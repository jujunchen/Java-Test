2019-11-26 17:31:17.107 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 17:31:17.194 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@290222c1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@67f639d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6253c26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@49049a04, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@71a8adcf]
2019-11-26 17:33:11.905 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 17:33:11.932 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4738a206, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@66d3eec0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1e04fa0a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1af2d44a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@18d87d80]
2019-11-26 17:44:08.532 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 17:44:08.537 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 17:44:08.549 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 17:44:08.563 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 17:44:08.601 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@306cf3ea declaringClass = 'spring.BaseSpringTest', classes = '{class spring.SpringConfig}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 17:44:08.639 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 17:44:08.641 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 17:44:08.642 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 17:44:08.655 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 17:44:08.672 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@741a8937, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306e95ec, org.springframework.test.context.support.DirtiesContextTestExecutionListener@52af26ee, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6fd83fc1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4f2b503c]
2019-11-26 17:44:08.680 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 17:44:08.681 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 17:44:08.708 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 17:44:08.708 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 17:44:08.710 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 17:44:08.710 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 17:44:08.711 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 17:44:08.712 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 17:44:08.715 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3f6f6701 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3527942a testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 17:44:08.716 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 17:44:08.717 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 17:44:08.719 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@3f6f6701 testClass = TransactionTest, testInstance = spring.TransactionTest@4d5650ae, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3527942a testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 17:44:08.720 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@3527942a testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 17:44:08.721 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@3527942a testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 17:44:08.799 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 17:44:08.800 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.SpringConfig}
2019-11-26 17:44:08.884 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@15bb5034
2019-11-26 17:44:08.914 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 17:44:09.067 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/NaiveWaiterService.class]
2019-11-26 17:44:09.071 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/PreGreetingAspect.class]
2019-11-26 17:44:09.072 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/SmartSeller.class]
2019-11-26 17:44:09.079 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springCache/UserService.class]
2019-11-26 17:44:09.085 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springRetry/RemoteService.class]
2019-11-26 17:44:09.092 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/TransactionTestService.class]
2019-11-26 17:44:09.331 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 17:44:09.333 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 17:44:09.336 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 17:44:09.337 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 17:44:09.342 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2019-11-26 17:44:09.441 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springConfig'
2019-11-26 17:44:09.442 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.config.internalCacheAdvisor'
2019-11-26 17:44:09.445 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.annotation.ProxyCachingConfiguration'
2019-11-26 17:44:09.445 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.retry.annotation.RetryConfiguration'
2019-11-26 17:44:09.518 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest()
2019-11-26 17:44:09.521 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest2()
2019-11-26 17:44:09.522 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting(java.lang.String)
2019-11-26 17:44:09.536 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting2(spring.WaiterTest)
2019-11-26 17:44:09.538 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest()
2019-11-26 17:44:09.539 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest2()
2019-11-26 17:44:09.539 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.withinTest()
2019-11-26 17:44:09.944 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheOperationSource'
2019-11-26 17:44:09.987 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheInterceptor'
2019-11-26 17:44:10.029 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'naiveWaiterService'
2019-11-26 17:44:10.054 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preGreetingAspect'
2019-11-26 17:44:10.055 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'smartSeller'
2019-11-26 17:44:10.065 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2019-11-26 17:44:10.096 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'remoteService'
2019-11-26 17:44:10.114 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTestService'
2019-11-26 17:44:10.127 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'compositeCacheManager'
2019-11-26 17:44:10.168 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@3527942a testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 17:44:10.168 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@1917d90f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 17:44:10.175 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@3f6f6701 testClass = TransactionTest, testInstance = spring.TransactionTest@4d5650ae, testMethod = transactionTest@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3527942a testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 17:44:10.190 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@3f6f6701 testClass = TransactionTest, testInstance = spring.TransactionTest@4d5650ae, testMethod = transactionTest@TransactionTest, testException = java.lang.RuntimeException: method2发生运行异常, mergedContextConfiguration = [MergedContextConfiguration@3527942a testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 17:44:10.197 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@3f6f6701 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3527942a testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 17:44:10.199 [Thread-1] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@15bb5034, started on Tue Nov 26 17:44:08 CST 2019
2019-11-26 20:18:35.602 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 20:18:35.610 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 20:18:35.626 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 20:18:35.644 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 20:18:35.692 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@4da4253 declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 20:18:35.728 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 20:18:35.729 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 20:18:35.730 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 20:18:35.740 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 20:18:35.754 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1de76cc7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@54bff557, org.springframework.test.context.support.DirtiesContextTestExecutionListener@593aaf41, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5a56cdac, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7c711375]
2019-11-26 20:18:35.756 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:18:35.757 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:18:35.779 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:18:35.779 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:18:35.784 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:18:35.784 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:18:35.786 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:18:35.786 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:18:35.795 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:18:35.799 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:18:35.799 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:18:35.803 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = spring.TransactionTest@3012646b, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 20:18:35.805 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 20:18:35.805 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 20:18:35.876 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 20:18:35.877 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 20:18:35.915 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@69e153c5
2019-11-26 20:18:35.941 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 20:18:36.222 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 20:18:36.225 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 20:18:36.228 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 20:18:36.229 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 20:18:36.241 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 20:18:36.248 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 20:18:36.276 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 20:18:36.297 [main] WARN  o.s.c.s.GenericApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'txManager' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.transaction.PlatformTransactionManager]: Factory method 'txManager' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
2019-11-26 20:18:36.308 [main] ERROR o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@54bff557] to prepare test instance [spring.TransactionTest@3012646b]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'txManager' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.transaction.PlatformTransactionManager]: Factory method 'txManager' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	... 25 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.transaction.PlatformTransactionManager]: Factory method 'txManager' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	... 43 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:394)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:366)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5.dataSource(<generated>)
	at spring.transactionTest.PersonDatabaseTestsConfig.txManager(PersonDatabaseTestsConfig.java:22)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5.CGLIB$txManager$1(<generated>)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5$$FastClassBySpringCGLIB$$b21add16.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5.txManager(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 44 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	... 67 common frames omitted
Caused by: java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseConfigurerFactory.getConfigurer(EmbeddedDatabaseConfigurerFactory.java:57)
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.initDatabase(EmbeddedDatabaseFactory.java:180)
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.getDatabase(EmbeddedDatabaseFactory.java:157)
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder.build(EmbeddedDatabaseBuilder.java:270)
	at spring.transactionTest.PersonDatabaseTestsConfig.dataSource(PersonDatabaseTestsConfig.java:30)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5.CGLIB$dataSource$0(<generated>)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5$$FastClassBySpringCGLIB$$b21add16.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5.dataSource(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 68 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.hsqldb.jdbcDriver
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:275)
	at org.springframework.jdbc.datasource.embedded.HsqlEmbeddedDatabaseConfigurer.getInstance(HsqlEmbeddedDatabaseConfigurer.java:50)
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseConfigurerFactory.getConfigurer(EmbeddedDatabaseConfigurerFactory.java:47)
	... 82 common frames omitted
2019-11-26 20:18:36.327 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:23:41.030 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 20:23:41.037 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 20:23:41.046 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 20:23:41.057 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 20:23:41.092 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@4da4253 declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 20:23:41.123 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 20:23:41.124 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 20:23:41.125 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 20:23:41.133 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 20:23:41.147 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1de76cc7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@54bff557, org.springframework.test.context.support.DirtiesContextTestExecutionListener@593aaf41, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5a56cdac, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7c711375]
2019-11-26 20:23:41.149 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:23:41.150 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:23:41.167 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:23:41.168 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:23:41.169 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:23:41.170 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:23:41.171 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:23:41.172 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:23:41.177 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:23:41.178 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:23:41.179 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:23:41.181 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = spring.TransactionTest@3012646b, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 20:23:41.187 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 20:23:41.187 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 20:23:41.245 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 20:23:41.245 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 20:23:41.286 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@69e153c5
2019-11-26 20:23:41.311 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 20:23:41.580 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 20:23:41.583 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 20:23:41.586 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 20:23:41.587 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 20:23:41.599 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 20:23:41.606 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 20:23:41.634 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 20:23:41.657 [main] WARN  o.s.c.s.GenericApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'txManager' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.transaction.PlatformTransactionManager]: Factory method 'txManager' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
2019-11-26 20:23:41.668 [main] ERROR o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@54bff557] to prepare test instance [spring.TransactionTest@3012646b]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'txManager' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.transaction.PlatformTransactionManager]: Factory method 'txManager' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	... 25 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.transaction.PlatformTransactionManager]: Factory method 'txManager' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	... 43 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in spring.transactionTest.PersonDatabaseTestsConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:394)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:366)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5.dataSource(<generated>)
	at spring.transactionTest.PersonDatabaseTestsConfig.txManager(PersonDatabaseTestsConfig.java:22)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5.CGLIB$txManager$1(<generated>)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5$$FastClassBySpringCGLIB$$b21add16.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5.txManager(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 44 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	... 67 common frames omitted
Caused by: java.lang.IllegalStateException: Driver for test database type [HSQL] is not available
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseConfigurerFactory.getConfigurer(EmbeddedDatabaseConfigurerFactory.java:57)
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.initDatabase(EmbeddedDatabaseFactory.java:180)
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.getDatabase(EmbeddedDatabaseFactory.java:157)
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder.build(EmbeddedDatabaseBuilder.java:270)
	at spring.transactionTest.PersonDatabaseTestsConfig.dataSource(PersonDatabaseTestsConfig.java:30)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5.CGLIB$dataSource$0(<generated>)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5$$FastClassBySpringCGLIB$$b21add16.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at spring.transactionTest.PersonDatabaseTestsConfig$$EnhancerBySpringCGLIB$$3047cbc5.dataSource(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 68 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.hsqldb.jdbcDriver
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:348)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:275)
	at org.springframework.jdbc.datasource.embedded.HsqlEmbeddedDatabaseConfigurer.getInstance(HsqlEmbeddedDatabaseConfigurer.java:50)
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseConfigurerFactory.getConfigurer(EmbeddedDatabaseConfigurerFactory.java:47)
	... 82 common frames omitted
2019-11-26 20:23:41.688 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:26:01.339 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 20:26:01.345 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 20:26:01.354 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 20:26:01.366 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 20:26:01.399 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 20:26:01.426 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 20:26:01.427 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 20:26:01.428 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 20:26:01.437 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 20:26:01.451 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 20:26:01.453 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:26:01.453 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:26:01.467 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:26:01.467 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:26:01.469 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:26:01.469 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:26:01.470 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:26:01.471 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:26:01.474 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:26:01.475 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:26:01.475 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:26:01.477 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 20:26:01.479 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 20:26:01.480 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 20:26:01.574 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 20:26:01.574 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 20:26:01.611 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@25ce9dc4
2019-11-26 20:26:01.633 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 20:26:01.903 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 20:26:01.906 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 20:26:01.910 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 20:26:01.912 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 20:26:01.925 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 20:26:01.934 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 20:26:01.958 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 20:26:01.980 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:314a8988-5e45-4c98-9703-446291d4ec41', username='sa'
2019-11-26 20:26:01.986 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 20:26:01.986 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:314a8988-5e45-4c98-9703-446291d4ec41]
2019-11-26 20:26:02.389 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 20:26:02.394 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 20:26:02.395 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(5) NOT NULL, PRIMARY KEY(name) )
2019-11-26 20:26:02.396 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 6 ms.
2019-11-26 20:26:02.422 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 20:26:02.422 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 20:26:02.454 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:26:02.461 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager'] found for test context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 20:26:02.461 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 20:26:02.461 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 20:26:02.465 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 20:26:02.472 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager'
2019-11-26 20:26:02.473 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:314a8988-5e45-4c98-9703-446291d4ec41]
2019-11-26 20:26:02.473 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] for JDBC transaction
2019-11-26 20:26:02.476 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] to manual commit
2019-11-26 20:26:02.476 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@669253b7]; rollback [true]
2019-11-26 20:26:02.478 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 20:26:02.484 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 20:26:02.488 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 20:26:02.488 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 20:26:02.532 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 20:26:02.540 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 20:26:02.540 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 20:26:02.620 [main] DEBUG o.s.b.f.xml.XmlBeanDefinitionReader - Loaded 11 bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-11-26 20:26:02.621 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'DB2'
2019-11-26 20:26:02.639 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Derby'
2019-11-26 20:26:02.640 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'H2'
2019-11-26 20:26:02.640 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HDB'
2019-11-26 20:26:02.642 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HSQL'
2019-11-26 20:26:02.643 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Informix'
2019-11-26 20:26:02.643 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MS-SQL'
2019-11-26 20:26:02.644 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MySQL'
2019-11-26 20:26:02.645 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Oracle'
2019-11-26 20:26:02.646 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'PostgreSQL'
2019-11-26 20:26:02.646 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Sybase'
2019-11-26 20:26:02.647 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - Looking up default SQLErrorCodes for DataSource [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@f5c79a6]
2019-11-26 20:26:02.652 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - SQL error codes for 'HSQL Database Engine' found
2019-11-26 20:26:02.652 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - Caching SQL error codes for DataSource [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@f5c79a6]: database product name is 'HSQL Database Engine'
2019-11-26 20:26:02.652 [main] DEBUG o.s.j.s.SQLErrorCodeSQLExceptionTranslator - Unable to translate SQLException with Error code '3401', will now try the fallback translator
2019-11-26 20:26:02.655 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 20:26:02.655 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@213e3629]
2019-11-26 20:26:02.656 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] after transaction
2019-11-26 20:26:02.656 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO person VALUES(?)]; data exception: string data, right truncation;  table: PERSON column: NAME; nested exception is java.sql.SQLDataException: data exception: string data, right truncation;  table: PERSON column: NAME, mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 20:26:02.674 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO person VALUES(?)]; data exception: string data, right truncation;  table: PERSON column: NAME; nested exception is java.sql.SQLDataException: data exception: string data, right truncation;  table: PERSON column: NAME, mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:26:02.682 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 20:26:02.682 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 20:26:02.683 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:314a8988-5e45-4c98-9703-446291d4ec41]
2019-11-26 20:26:02.684 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:26:02.686 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@25ce9dc4, started on Tue Nov 26 20:26:01 CST 2019
2019-11-26 20:26:02.689 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:314a8988-5e45-4c98-9703-446291d4ec41'
2019-11-26 20:26:02.689 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:314a8988-5e45-4c98-9703-446291d4ec41]
2019-11-26 20:28:58.886 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 20:28:58.892 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 20:28:58.902 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 20:28:58.913 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 20:28:58.949 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 20:28:58.976 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 20:28:58.977 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 20:28:58.978 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 20:28:58.987 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 20:28:58.999 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 20:28:59.002 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:28:59.002 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:28:59.017 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:28:59.017 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:28:59.019 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:28:59.020 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:28:59.021 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:28:59.021 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:28:59.025 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:28:59.026 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:28:59.026 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:28:59.029 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 20:28:59.031 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 20:28:59.031 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 20:28:59.094 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 20:28:59.095 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 20:28:59.140 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@25ce9dc4
2019-11-26 20:28:59.159 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 20:28:59.394 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 20:28:59.397 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 20:28:59.400 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 20:28:59.401 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 20:28:59.413 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 20:28:59.419 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 20:28:59.444 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 20:28:59.472 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:d1a54ebe-cba2-49e6-8a5c-ff65e9a36aa4', username='sa'
2019-11-26 20:28:59.481 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 20:28:59.482 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:d1a54ebe-cba2-49e6-8a5c-ff65e9a36aa4]
2019-11-26 20:28:59.919 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 20:28:59.924 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 20:28:59.925 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(10) NOT NULL, PRIMARY KEY(name) )
2019-11-26 20:28:59.925 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 5 ms.
2019-11-26 20:28:59.950 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 20:28:59.951 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 20:28:59.987 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:28:59.998 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager'] found for test context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 20:28:59.998 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 20:28:59.999 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 20:29:00.003 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 20:29:00.014 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager'
2019-11-26 20:29:00.015 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:d1a54ebe-cba2-49e6-8a5c-ff65e9a36aa4]
2019-11-26 20:29:00.015 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] for JDBC transaction
2019-11-26 20:29:00.019 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] to manual commit
2019-11-26 20:29:00.020 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@669253b7]; rollback [true]
2019-11-26 20:29:00.022 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 20:29:00.028 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 20:29:00.031 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 20:29:00.032 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 20:29:00.073 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 20:29:00.080 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 20:29:00.080 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 20:29:00.082 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 20:29:00.083 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@213e3629]
2019-11-26 20:29:00.083 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] after transaction
2019-11-26 20:29:00.084 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 20:29:00.085 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = spring.TransactionTest@25641d39, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:29:00.085 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 20:29:00.085 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 20:29:00.086 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:d1a54ebe-cba2-49e6-8a5c-ff65e9a36aa4]
2019-11-26 20:29:00.087 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@5e600dd5 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576d5deb testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:29:00.097 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@25ce9dc4, started on Tue Nov 26 20:28:59 CST 2019
2019-11-26 20:29:00.098 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:d1a54ebe-cba2-49e6-8a5c-ff65e9a36aa4'
2019-11-26 20:29:00.099 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:d1a54ebe-cba2-49e6-8a5c-ff65e9a36aa4]
2019-11-26 20:56:17.244 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 20:56:17.250 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 20:56:17.259 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 20:56:17.270 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 20:56:17.309 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 20:56:17.340 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 20:56:17.341 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 20:56:17.342 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 20:56:17.352 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 20:56:17.366 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 20:56:17.368 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:56:17.369 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:56:17.385 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:56:17.385 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:56:17.386 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:56:17.387 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:56:17.387 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:56:17.388 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:56:17.390 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:56:17.391 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:56:17.391 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:56:17.393 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 20:56:17.394 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 20:56:17.395 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 20:56:17.450 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 20:56:17.450 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 20:56:17.490 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@173ed316
2019-11-26 20:56:17.510 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 20:56:17.720 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 20:56:17.722 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 20:56:17.725 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 20:56:17.725 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 20:56:17.735 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 20:56:17.742 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 20:56:17.761 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 20:56:17.782 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:5a289fbd-1dea-4c0e-9684-601c6b89361e', username='sa'
2019-11-26 20:56:17.789 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 20:56:17.789 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:5a289fbd-1dea-4c0e-9684-601c6b89361e]
2019-11-26 20:56:18.215 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 20:56:18.232 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 20:56:18.234 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(10) NOT NULL, PRIMARY KEY(name) )
2019-11-26 20:56:18.236 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 19 ms.
2019-11-26 20:56:18.267 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 20:56:18.267 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 20:56:18.301 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:56:18.310 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager'] found for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 20:56:18.310 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 20:56:18.310 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 20:56:18.313 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 20:56:18.320 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager'
2019-11-26 20:56:18.321 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:5a289fbd-1dea-4c0e-9684-601c6b89361e]
2019-11-26 20:56:18.321 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] for JDBC transaction
2019-11-26 20:56:18.323 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] to manual commit
2019-11-26 20:56:18.324 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@669253b7]; rollback [true]
2019-11-26 20:56:18.326 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 20:56:18.332 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 20:56:18.336 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 20:56:18.336 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 20:56:18.380 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 20:56:18.388 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 20:56:18.388 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 20:56:18.390 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 20:56:18.392 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 20:56:18.392 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@213e3629]
2019-11-26 20:56:18.392 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] after transaction
2019-11-26 20:56:18.393 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = java.lang.AssertionError: 验证最终数量 expected:<1> but was:<2>, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 20:56:18.394 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = java.lang.AssertionError: 验证最终数量 expected:<1> but was:<2>, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:56:18.403 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:56:18.406 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@173ed316, started on Tue Nov 26 20:56:17 CST 2019
2019-11-26 20:56:18.408 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:5a289fbd-1dea-4c0e-9684-601c6b89361e'
2019-11-26 20:56:18.408 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:5a289fbd-1dea-4c0e-9684-601c6b89361e]
2019-11-26 20:56:42.023 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 20:56:42.031 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 20:56:42.045 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 20:56:42.061 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 20:56:42.102 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 20:56:42.137 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 20:56:42.139 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 20:56:42.140 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 20:56:42.152 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 20:56:42.173 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 20:56:42.176 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:56:42.177 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:56:42.194 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:56:42.194 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:56:42.196 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:56:42.196 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:56:42.197 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:56:42.197 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:56:42.201 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:56:42.201 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 20:56:42.202 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 20:56:42.204 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 20:56:42.205 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 20:56:42.206 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 20:56:42.269 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 20:56:42.269 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 20:56:42.316 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@173ed316
2019-11-26 20:56:42.344 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 20:56:42.603 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 20:56:42.606 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 20:56:42.610 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 20:56:42.612 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 20:56:42.627 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 20:56:42.634 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 20:56:42.661 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 20:56:42.691 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:b4c84f05-378d-4353-ae19-97586377ba3d', username='sa'
2019-11-26 20:56:42.699 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 20:56:42.699 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:b4c84f05-378d-4353-ae19-97586377ba3d]
2019-11-26 20:56:43.110 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 20:56:43.115 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 20:56:43.115 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(5) NOT NULL, PRIMARY KEY(name) )
2019-11-26 20:56:43.116 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 5 ms.
2019-11-26 20:56:43.142 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 20:56:43.142 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 20:56:43.175 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:56:43.186 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager'] found for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 20:56:43.186 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 20:56:43.186 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 20:56:43.190 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 20:56:43.201 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager'
2019-11-26 20:56:43.202 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:b4c84f05-378d-4353-ae19-97586377ba3d]
2019-11-26 20:56:43.202 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] for JDBC transaction
2019-11-26 20:56:43.205 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] to manual commit
2019-11-26 20:56:43.206 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@669253b7]; rollback [true]
2019-11-26 20:56:43.208 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 20:56:43.216 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 20:56:43.220 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 20:56:43.221 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 20:56:43.260 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 20:56:43.268 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 20:56:43.268 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 20:56:43.338 [main] DEBUG o.s.b.f.xml.XmlBeanDefinitionReader - Loaded 11 bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-11-26 20:56:43.340 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'DB2'
2019-11-26 20:56:43.363 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Derby'
2019-11-26 20:56:43.364 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'H2'
2019-11-26 20:56:43.365 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HDB'
2019-11-26 20:56:43.369 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HSQL'
2019-11-26 20:56:43.369 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Informix'
2019-11-26 20:56:43.370 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MS-SQL'
2019-11-26 20:56:43.371 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MySQL'
2019-11-26 20:56:43.373 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Oracle'
2019-11-26 20:56:43.374 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'PostgreSQL'
2019-11-26 20:56:43.375 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Sybase'
2019-11-26 20:56:43.376 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - Looking up default SQLErrorCodes for DataSource [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@f5c79a6]
2019-11-26 20:56:43.382 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - SQL error codes for 'HSQL Database Engine' found
2019-11-26 20:56:43.382 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - Caching SQL error codes for DataSource [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@f5c79a6]: database product name is 'HSQL Database Engine'
2019-11-26 20:56:43.382 [main] DEBUG o.s.j.s.SQLErrorCodeSQLExceptionTranslator - Unable to translate SQLException with Error code '3401', will now try the fallback translator
2019-11-26 20:56:43.384 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 20:56:43.386 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 20:56:43.386 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@213e3629]
2019-11-26 20:56:43.386 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] after transaction
2019-11-26 20:56:43.387 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO person VALUES(?)]; data exception: string data, right truncation;  table: PERSON column: NAME; nested exception is java.sql.SQLDataException: data exception: string data, right truncation;  table: PERSON column: NAME, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 20:56:43.399 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO person VALUES(?)]; data exception: string data, right truncation;  table: PERSON column: NAME; nested exception is java.sql.SQLDataException: data exception: string data, right truncation;  table: PERSON column: NAME, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:56:43.410 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 20:56:43.411 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@173ed316, started on Tue Nov 26 20:56:42 CST 2019
2019-11-26 20:56:43.413 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:b4c84f05-378d-4353-ae19-97586377ba3d'
2019-11-26 20:56:43.414 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:b4c84f05-378d-4353-ae19-97586377ba3d]
2019-11-26 21:01:00.175 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:01:00.182 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:01:00.191 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:01:00.202 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:01:00.233 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:01:00.262 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:01:00.263 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:01:00.264 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:01:00.274 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:01:00.286 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 21:01:00.288 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:01:00.288 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:01:00.302 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:01:00.303 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:01:00.304 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:01:00.304 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:01:00.305 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:01:00.305 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:01:00.309 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:01:00.310 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:01:00.310 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:01:00.312 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:01:00.314 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:01:00.315 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:01:00.375 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:01:00.375 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 21:01:00.418 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@173ed316
2019-11-26 21:01:00.445 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:01:00.706 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:01:00.710 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:01:00.713 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:01:00.714 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:01:00.727 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:01:00.735 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 21:01:00.760 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:01:00.788 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:2e6eba9a-3b67-49ee-8968-99b16d13a2c1', username='sa'
2019-11-26 21:01:00.797 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:01:00.797 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:2e6eba9a-3b67-49ee-8968-99b16d13a2c1]
2019-11-26 21:01:01.192 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:01:01.197 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:01:01.197 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(10) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:01:01.197 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2019-11-26 21:01:01.219 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:01:01.220 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:01:01.250 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:01:01.257 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager'] found for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:01:01.257 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:01:01.257 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 21:01:01.260 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 21:01:01.266 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager'
2019-11-26 21:01:01.267 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:2e6eba9a-3b67-49ee-8968-99b16d13a2c1]
2019-11-26 21:01:01.267 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] for JDBC transaction
2019-11-26 21:01:01.269 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] to manual commit
2019-11-26 21:01:01.270 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@669253b7]; rollback [true]
2019-11-26 21:01:01.272 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 21:01:01.277 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 21:01:01.280 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:01:01.281 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:01:01.323 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:01:01.335 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:01:01.335 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:01:01.337 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:01:01.338 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 21:01:01.338 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@213e3629]
2019-11-26 21:01:01.339 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@213e3629] after transaction
2019-11-26 21:01:01.340 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = org.junit.internal.runners.model.MultipleFailureException: There were 2 errors:
  java.lang.RuntimeException(运行异常)
  java.lang.AssertionError(验证最终数量 expected:<1> but was:<2>), mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:01:01.342 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = org.junit.internal.runners.model.MultipleFailureException: There were 2 errors:
  java.lang.RuntimeException(运行异常)
  java.lang.AssertionError(验证最终数量 expected:<1> but was:<2>), mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:01:01.349 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:01:01.351 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@173ed316, started on Tue Nov 26 21:01:00 CST 2019
2019-11-26 21:01:01.354 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:2e6eba9a-3b67-49ee-8968-99b16d13a2c1'
2019-11-26 21:01:01.354 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:2e6eba9a-3b67-49ee-8968-99b16d13a2c1]
2019-11-26 21:01:29.531 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:01:29.538 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:01:29.547 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:01:29.559 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:01:29.592 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:01:29.620 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:01:29.621 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:01:29.622 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:01:29.629 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:01:29.641 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 21:01:29.643 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:01:29.644 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:01:29.662 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:01:29.663 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:01:29.666 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:01:29.667 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:01:29.670 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:01:29.671 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:01:29.674 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:01:29.677 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:01:29.677 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:01:29.682 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:01:29.684 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:01:29.684 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:01:29.746 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:01:29.746 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 21:01:29.786 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@173ed316
2019-11-26 21:01:29.806 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:01:30.065 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:01:30.068 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:01:30.071 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:01:30.072 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:01:30.083 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:01:30.090 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 21:01:30.113 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:01:30.134 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:d1325993-f8f5-457b-b140-fc7beb361680', username='sa'
2019-11-26 21:01:30.140 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:01:30.140 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:d1325993-f8f5-457b-b140-fc7beb361680]
2019-11-26 21:01:30.501 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:01:30.504 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:01:30.505 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(10) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:01:30.505 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2019-11-26 21:01:30.530 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:01:30.530 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:01:30.561 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:01:30.569 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception] found for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:01:30.570 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:01:30.570 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 21:01:30.573 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 21:01:30.579 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception
2019-11-26 21:01:30.580 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:d1325993-f8f5-457b-b140-fc7beb361680]
2019-11-26 21:01:30.580 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] for JDBC transaction
2019-11-26 21:01:30.582 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] to manual commit
2019-11-26 21:01:30.582 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@344561e0]; rollback [true]
2019-11-26 21:01:30.584 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 21:01:30.588 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 21:01:30.591 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:01:30.592 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:01:30.626 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:01:30.632 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:01:30.632 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:01:30.633 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:01:30.635 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 21:01:30.635 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@c41709a]
2019-11-26 21:01:30.635 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] after transaction
2019-11-26 21:01:30.636 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = org.junit.internal.runners.model.MultipleFailureException: There were 2 errors:
  java.lang.RuntimeException(运行异常)
  java.lang.AssertionError(验证最终数量 expected:<1> but was:<2>), mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:01:30.637 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = org.junit.internal.runners.model.MultipleFailureException: There were 2 errors:
  java.lang.RuntimeException(运行异常)
  java.lang.AssertionError(验证最终数量 expected:<1> but was:<2>), mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:01:30.645 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:01:30.647 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@173ed316, started on Tue Nov 26 21:01:29 CST 2019
2019-11-26 21:01:30.649 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:d1325993-f8f5-457b-b140-fc7beb361680'
2019-11-26 21:01:30.649 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:d1325993-f8f5-457b-b140-fc7beb361680]
2019-11-26 21:02:05.818 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:02:05.824 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:02:05.834 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:02:05.845 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:02:05.883 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:02:05.913 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:02:05.914 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:02:05.916 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:02:05.924 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:02:05.937 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 21:02:05.939 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:05.940 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:05.954 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:05.955 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:05.956 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:05.956 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:05.957 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:05.957 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:05.960 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:02:05.961 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:05.962 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:05.964 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:02:05.965 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:02:05.965 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:02:06.023 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:02:06.023 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 21:02:06.059 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@173ed316
2019-11-26 21:02:06.084 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:02:06.313 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:02:06.316 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:02:06.318 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:02:06.319 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:02:06.328 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:02:06.335 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 21:02:06.361 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:02:06.385 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:854997f7-35ce-4c36-85f8-4e43b67bd74e', username='sa'
2019-11-26 21:02:06.392 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:02:06.392 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:854997f7-35ce-4c36-85f8-4e43b67bd74e]
2019-11-26 21:02:06.798 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:02:06.803 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:02:06.803 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(10) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:02:06.804 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2019-11-26 21:02:06.826 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:02:06.826 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:02:06.856 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:02:06.865 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception] found for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:02:06.865 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:02:06.865 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 21:02:06.869 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 21:02:06.876 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception
2019-11-26 21:02:06.876 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:854997f7-35ce-4c36-85f8-4e43b67bd74e]
2019-11-26 21:02:06.876 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] for JDBC transaction
2019-11-26 21:02:06.879 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] to manual commit
2019-11-26 21:02:06.879 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@344561e0]; rollback [true]
2019-11-26 21:02:06.881 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 21:02:06.886 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 21:02:06.889 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:02:06.890 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:02:06.927 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:02:06.938 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:02:06.940 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 21:02:06.940 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@c41709a]
2019-11-26 21:02:06.940 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] after transaction
2019-11-26 21:02:06.940 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = java.lang.RuntimeException: 运行异常, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:02:06.942 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = java.lang.RuntimeException: 运行异常, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:02:06.950 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:02:06.952 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@173ed316, started on Tue Nov 26 21:02:06 CST 2019
2019-11-26 21:02:06.954 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:854997f7-35ce-4c36-85f8-4e43b67bd74e'
2019-11-26 21:02:06.954 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:854997f7-35ce-4c36-85f8-4e43b67bd74e]
2019-11-26 21:02:22.926 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:02:22.932 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:02:22.943 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:02:22.962 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:02:22.995 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:02:23.024 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:02:23.025 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:02:23.026 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:02:23.036 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:02:23.049 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 21:02:23.052 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:23.052 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:23.067 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:23.067 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:23.069 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:23.070 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:23.071 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:23.071 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:23.075 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:02:23.076 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:23.076 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:23.078 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:02:23.080 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:02:23.080 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:02:23.149 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:02:23.150 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 21:02:23.184 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@173ed316
2019-11-26 21:02:23.208 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:02:23.483 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:02:23.486 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:02:23.490 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:02:23.491 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:02:23.502 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:02:23.509 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 21:02:23.534 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:02:23.562 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:5176fd7d-c423-4cf0-a3a2-7ef8d7594bf2', username='sa'
2019-11-26 21:02:23.570 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:02:23.570 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:5176fd7d-c423-4cf0-a3a2-7ef8d7594bf2]
2019-11-26 21:02:23.958 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:02:23.963 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:02:23.964 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(10) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:02:23.965 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 7 ms.
2019-11-26 21:02:23.997 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:02:23.997 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:02:24.038 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:02:24.047 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception] found for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:02:24.048 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:02:24.048 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 21:02:24.053 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 21:02:24.061 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception
2019-11-26 21:02:24.062 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:5176fd7d-c423-4cf0-a3a2-7ef8d7594bf2]
2019-11-26 21:02:24.062 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] for JDBC transaction
2019-11-26 21:02:24.066 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] to manual commit
2019-11-26 21:02:24.066 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@344561e0]; rollback [true]
2019-11-26 21:02:24.069 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 21:02:24.075 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 21:02:24.082 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:02:24.083 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:02:24.130 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:02:30.461 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:02:38.764 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 21:02:38.764 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@c41709a]
2019-11-26 21:02:38.764 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] after transaction
2019-11-26 21:02:38.764 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = java.lang.RuntimeException: 运行异常, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:02:38.766 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = java.lang.RuntimeException: 运行异常, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:02:38.774 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:02:38.776 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@173ed316, started on Tue Nov 26 21:02:23 CST 2019
2019-11-26 21:02:38.778 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:5176fd7d-c423-4cf0-a3a2-7ef8d7594bf2'
2019-11-26 21:02:38.779 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:5176fd7d-c423-4cf0-a3a2-7ef8d7594bf2]
2019-11-26 21:02:48.546 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:02:48.552 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:02:48.562 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:02:48.575 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:02:48.611 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:02:48.638 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:02:48.639 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:02:48.640 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:02:48.648 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:02:48.661 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 21:02:48.663 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:48.664 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:48.679 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:48.680 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:48.681 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:48.682 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:48.683 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:48.683 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:48.686 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:02:48.687 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:02:48.688 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:02:48.690 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:02:48.693 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:02:48.693 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:02:48.755 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:02:48.755 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 21:02:48.799 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@173ed316
2019-11-26 21:02:48.823 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:02:49.064 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:02:49.067 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:02:49.071 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:02:49.072 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:02:49.086 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:02:49.096 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 21:02:49.126 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:02:49.151 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:64649a36-338e-4575-bff4-79744ca1dcd6', username='sa'
2019-11-26 21:02:49.157 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:02:49.157 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:64649a36-338e-4575-bff4-79744ca1dcd6]
2019-11-26 21:02:49.541 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:02:49.545 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:02:49.546 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(10) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:02:49.546 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2019-11-26 21:02:49.567 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:02:49.568 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:02:49.595 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:02:49.603 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception] found for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:02:49.603 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:02:49.604 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 21:02:49.607 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 21:02:49.614 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception
2019-11-26 21:02:49.615 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:64649a36-338e-4575-bff4-79744ca1dcd6]
2019-11-26 21:02:49.615 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] for JDBC transaction
2019-11-26 21:02:49.617 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] to manual commit
2019-11-26 21:02:49.618 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@344561e0]; rollback [true]
2019-11-26 21:02:49.620 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 21:02:49.625 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 21:02:49.629 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:02:49.630 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:02:49.673 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:03:03.410 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:03:03.412 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 21:03:03.413 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@c41709a]
2019-11-26 21:03:03.413 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] after transaction
2019-11-26 21:03:03.413 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = java.lang.RuntimeException: 运行异常, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:03:03.415 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = java.lang.RuntimeException: 运行异常, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:03:03.425 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:03:03.426 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@173ed316, started on Tue Nov 26 21:02:48 CST 2019
2019-11-26 21:03:03.427 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:64649a36-338e-4575-bff4-79744ca1dcd6'
2019-11-26 21:03:03.428 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:64649a36-338e-4575-bff4-79744ca1dcd6]
2019-11-26 21:30:21.160 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:30:21.166 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:30:21.178 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:30:21.191 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:30:21.224 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:30:21.250 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:30:21.251 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:30:21.252 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:30:21.262 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:30:21.273 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 21:30:21.275 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:30:21.276 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:30:21.289 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:30:21.290 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:30:21.291 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:30:21.292 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:30:21.293 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:30:21.293 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:30:21.296 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:30:21.297 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:30:21.298 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:30:21.300 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:30:21.301 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:30:21.302 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:30:21.365 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:30:21.366 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 21:30:21.405 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@173ed316
2019-11-26 21:30:21.427 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:30:21.659 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:30:21.663 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:30:21.666 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:30:21.667 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:30:21.678 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:30:21.685 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 21:30:21.720 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:30:21.748 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:6928e7c1-ddf7-439f-92f1-c2f4cb5d1ea8', username='sa'
2019-11-26 21:30:21.755 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:30:21.755 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:6928e7c1-ddf7-439f-92f1-c2f4cb5d1ea8]
2019-11-26 21:30:22.152 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:30:22.155 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:30:22.156 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(10) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:30:22.156 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2019-11-26 21:30:22.177 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:30:22.178 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:30:22.214 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:30:22.223 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception] found for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:30:22.223 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:30:22.224 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 21:30:22.227 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 21:30:22.235 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception
2019-11-26 21:30:22.236 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:6928e7c1-ddf7-439f-92f1-c2f4cb5d1ea8]
2019-11-26 21:30:22.237 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] for JDBC transaction
2019-11-26 21:30:22.240 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] to manual commit
2019-11-26 21:30:22.241 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@344561e0]; rollback [true]
2019-11-26 21:30:22.243 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 21:30:22.248 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 21:30:22.251 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:30:22.251 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:30:22.286 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:30:22.295 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:30:22.296 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 21:30:22.297 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@c41709a]
2019-11-26 21:30:22.297 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] after transaction
2019-11-26 21:30:22.297 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = java.lang.RuntimeException: 运行异常, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:30:22.299 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = java.lang.RuntimeException: 运行异常, mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:30:22.307 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:30:22.309 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@173ed316, started on Tue Nov 26 21:30:21 CST 2019
2019-11-26 21:30:22.310 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:6928e7c1-ddf7-439f-92f1-c2f4cb5d1ea8'
2019-11-26 21:30:22.311 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:6928e7c1-ddf7-439f-92f1-c2f4cb5d1ea8]
2019-11-26 21:30:50.511 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:30:50.516 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:30:50.527 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:30:50.537 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:30:50.571 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@62e7f11d declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:30:50.597 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:30:50.599 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:30:50.599 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:30:50.607 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:30:50.619 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@593aaf41, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a56cdac, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7c711375, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57cf54e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b03b9fe]
2019-11-26 21:30:50.621 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:30:50.622 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:30:50.634 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:30:50.635 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:30:50.636 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:30:50.636 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:30:50.637 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:30:50.637 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:30:50.640 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:30:50.641 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:30:50.641 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:30:50.644 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:30:50.645 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:30:50.646 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:30:50.701 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:30:50.701 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 21:30:50.739 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@173ed316
2019-11-26 21:30:50.766 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:30:50.996 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:30:50.999 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:30:51.002 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:30:51.003 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:30:51.014 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:30:51.021 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 21:30:51.046 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:30:51.072 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:bbd1597c-85ff-44fa-b297-6e3fab22a63d', username='sa'
2019-11-26 21:30:51.080 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:30:51.080 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:bbd1597c-85ff-44fa-b297-6e3fab22a63d]
2019-11-26 21:30:51.504 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:30:51.508 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:30:51.509 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(10) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:30:51.509 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 5 ms.
2019-11-26 21:30:51.534 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:30:51.534 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:30:51.568 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:30:51.576 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception] found for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:30:51.576 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:30:51.576 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5910de75 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 21:30:51.579 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 21:30:51.587 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; 'txManager',-java.lang.Exception
2019-11-26 21:30:51.588 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:bbd1597c-85ff-44fa-b297-6e3fab22a63d]
2019-11-26 21:30:51.588 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] for JDBC transaction
2019-11-26 21:30:51.591 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] to manual commit
2019-11-26 21:30:51.591 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@344561e0]; rollback [true]
2019-11-26 21:30:51.593 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 21:30:51.600 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 21:30:51.603 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:30:51.604 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:30:51.650 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:30:51.658 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:30:51.658 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:30:51.660 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:30:51.662 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 21:30:51.662 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@c41709a]
2019-11-26 21:30:51.663 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@c41709a] after transaction
2019-11-26 21:30:51.664 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = org.junit.internal.runners.model.MultipleFailureException: There were 2 errors:
  java.lang.RuntimeException(运行异常)
  java.lang.AssertionError(验证最终数量 expected:<1> but was:<2>), mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:30:51.666 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = spring.TransactionTest@4a883b15, testMethod = addOtherPerson@TransactionTest, testException = org.junit.internal.runners.model.MultipleFailureException: There were 2 errors:
  java.lang.RuntimeException(运行异常)
  java.lang.AssertionError(验证最终数量 expected:<1> but was:<2>), mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:30:51.675 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@130c12b7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5e600dd5 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:30:51.679 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@173ed316, started on Tue Nov 26 21:30:50 CST 2019
2019-11-26 21:30:51.681 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:bbd1597c-85ff-44fa-b297-6e3fab22a63d'
2019-11-26 21:30:51.681 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:bbd1597c-85ff-44fa-b297-6e3fab22a63d]
2019-11-26 21:34:15.546 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:34:15.552 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:34:15.562 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:34:15.573 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:34:15.606 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@503d687a declaringClass = 'spring.TransactionTest', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:34:15.631 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:34:15.632 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:34:15.633 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:34:15.641 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:34:15.653 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@54bff557, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@593aaf41, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a56cdac, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7c711375, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@57cf54e1]
2019-11-26 21:34:15.655 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:34:15.656 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:34:15.671 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:34:15.671 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:34:15.673 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:34:15.673 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:34:15.674 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:34:15.674 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:34:15.677 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:34:15.678 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:34:15.679 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:34:15.682 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = spring.TransactionTest@3012646b, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:34:15.683 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:34:15.684 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:34:15.743 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:34:15.744 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.transactionTest.PersonDatabaseTestsConfig}
2019-11-26 21:34:15.781 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@69e153c5
2019-11-26 21:34:15.802 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:34:16.076 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:34:16.080 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:34:16.084 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:34:16.085 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:34:16.096 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:34:16.104 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 21:34:16.135 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:34:16.163 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:53612ada-6979-46ed-b223-df11ca099d33', username='sa'
2019-11-26 21:34:16.174 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:34:16.175 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:53612ada-6979-46ed-b223-df11ca099d33]
2019-11-26 21:34:16.587 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:34:16.592 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:34:16.593 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(10) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:34:16.593 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 5 ms.
2019-11-26 21:34:16.616 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:34:16.616 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5ef8df1e size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:34:16.651 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = spring.TransactionTest@3012646b, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:34:16.660 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = spring.TransactionTest@3012646b, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:34:16.661 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:34:16.661 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5ef8df1e size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2019-11-26 21:34:16.663 [main] DEBUG o.s.t.c.t.TransactionalTestExecutionListener - No method-level @Rollback override: using default rollback [true] for test context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = spring.TransactionTest@3012646b, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]].
2019-11-26 21:34:16.670 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [spring.TransactionTest.addOtherPerson]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2019-11-26 21:34:16.670 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:53612ada-6979-46ed-b223-df11ca099d33]
2019-11-26 21:34:16.671 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [org.hsqldb.jdbc.JDBCConnection@3113a37] for JDBC transaction
2019-11-26 21:34:16.673 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [org.hsqldb.jdbc.JDBCConnection@3113a37] to manual commit
2019-11-26 21:34:16.674 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = spring.TransactionTest@3012646b, testMethod = addOtherPerson@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@f5c79a6]; rollback [true]
2019-11-26 21:34:16.675 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update [DELETE FROM person]
2019-11-26 21:34:16.680 [main] DEBUG o.s.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
2019-11-26 21:34:16.683 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:34:16.684 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:34:16.725 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:34:16.734 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:34:16.735 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:34:16.736 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:34:16.738 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction rollback
2019-11-26 21:34:16.738 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [org.hsqldb.jdbc.JDBCConnection@3113a37]
2019-11-26 21:34:16.739 [main] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [org.hsqldb.jdbc.JDBCConnection@3113a37] after transaction
2019-11-26 21:34:16.739 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = spring.TransactionTest@3012646b, testMethod = addOtherPerson@TransactionTest, testException = org.junit.internal.runners.model.MultipleFailureException: There were 2 errors:
  java.lang.RuntimeException(运行异常)
  java.lang.AssertionError(验证最终数量 expected:<1> but was:<2>), mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2019-11-26 21:34:16.742 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = spring.TransactionTest@3012646b, testMethod = addOtherPerson@TransactionTest, testException = org.junit.internal.runners.model.MultipleFailureException: There were 2 errors:
  java.lang.RuntimeException(运行异常)
  java.lang.AssertionError(验证最终数量 expected:<1> but was:<2>), mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:34:16.752 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@121314f7 testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@130c12b7 testClass = TransactionTest, locations = '{}', classes = '{class spring.transactionTest.PersonDatabaseTestsConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:34:16.754 [Thread-0] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@69e153c5, started on Tue Nov 26 21:34:15 CST 2019
2019-11-26 21:34:16.756 [Thread-0] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:53612ada-6979-46ed-b223-df11ca099d33'
2019-11-26 21:34:16.756 [Thread-0] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:53612ada-6979-46ed-b223-df11ca099d33]
2019-11-26 21:44:16.738 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:44:16.742 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:44:16.752 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:44:16.765 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:44:16.801 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@3541cb24 declaringClass = 'spring.BaseSpringTest', classes = '{class spring.SpringConfig}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:44:16.827 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:44:16.828 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:44:16.829 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:44:16.837 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:44:16.849 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@209da20d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e15b7e8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b2abca6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6392827e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed2d9cb]
2019-11-26 21:44:16.851 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:44:16.852 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:44:16.866 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:44:16.866 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:44:16.867 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:44:16.867 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:44:16.868 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:44:16.868 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:44:16.871 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:44:16.871 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:44:16.871 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:44:16.873 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:44:16.874 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:44:16.874 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:44:16.930 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:44:16.930 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.SpringConfig}
2019-11-26 21:44:17.000 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@7674f035
2019-11-26 21:44:17.026 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:44:17.180 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/NaiveWaiterService.class]
2019-11-26 21:44:17.184 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/PreGreetingAspect.class]
2019-11-26 21:44:17.186 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/SmartSeller.class]
2019-11-26 21:44:17.194 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springCache/UserService.class]
2019-11-26 21:44:17.200 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springRetry/RemoteService.class]
2019-11-26 21:44:17.201 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/PersonDatabaseTestsConfig.class]
2019-11-26 21:44:17.206 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/TransactionTestService.class]
2019-11-26 21:44:17.453 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:44:17.457 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:44:17.460 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:44:17.462 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:44:17.470 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2019-11-26 21:44:17.568 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springConfig'
2019-11-26 21:44:17.570 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.config.internalCacheAdvisor'
2019-11-26 21:44:17.573 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.annotation.ProxyCachingConfiguration'
2019-11-26 21:44:17.574 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.retry.annotation.RetryConfiguration'
2019-11-26 21:44:17.661 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest()
2019-11-26 21:44:17.663 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest2()
2019-11-26 21:44:17.663 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting(java.lang.String)
2019-11-26 21:44:17.678 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting2(spring.WaiterTest)
2019-11-26 21:44:17.679 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest()
2019-11-26 21:44:17.680 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest2()
2019-11-26 21:44:17.680 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.withinTest()
2019-11-26 21:44:18.057 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheOperationSource'
2019-11-26 21:44:18.108 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheInterceptor'
2019-11-26 21:44:18.160 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'naiveWaiterService'
2019-11-26 21:44:18.196 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preGreetingAspect'
2019-11-26 21:44:18.197 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'smartSeller'
2019-11-26 21:44:18.208 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2019-11-26 21:44:18.248 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'remoteService'
2019-11-26 21:44:18.271 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:44:18.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTestService'
2019-11-26 21:44:18.293 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:44:18.340 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:6e65c037-5593-4d66-a8c2-d0f4b880df50', username='sa'
2019-11-26 21:44:18.347 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:44:18.348 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:6e65c037-5593-4d66-a8c2-d0f4b880df50]
2019-11-26 21:44:18.798 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:44:18.802 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:44:18.803 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(5) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:44:18.803 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 5 ms.
2019-11-26 21:44:18.841 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'compositeCacheManager'
2019-11-26 21:44:18.867 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:44:18.868 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@167279d1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:44:18.873 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:44:18.890 [main] INFO  s.t.TransactionTestService - Spring 事务注解
2019-11-26 21:44:18.892 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:44:18.892 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:44:18.893 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:44:18.900 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:6e65c037-5593-4d66-a8c2-d0f4b880df50]
2019-11-26 21:44:18.973 [main] DEBUG o.s.b.f.xml.XmlBeanDefinitionReader - Loaded 11 bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-11-26 21:44:18.975 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'DB2'
2019-11-26 21:44:18.985 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Derby'
2019-11-26 21:44:18.986 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'H2'
2019-11-26 21:44:18.987 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HDB'
2019-11-26 21:44:18.988 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HSQL'
2019-11-26 21:44:18.989 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Informix'
2019-11-26 21:44:18.989 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MS-SQL'
2019-11-26 21:44:18.990 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MySQL'
2019-11-26 21:44:18.990 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Oracle'
2019-11-26 21:44:18.991 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'PostgreSQL'
2019-11-26 21:44:18.992 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Sybase'
2019-11-26 21:44:18.992 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - Looking up default SQLErrorCodes for DataSource [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy$$EnhancerBySpringCGLIB$$80b039ee@685dafd]
2019-11-26 21:44:18.993 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:44:18.993 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:6e65c037-5593-4d66-a8c2-d0f4b880df50]
2019-11-26 21:44:18.996 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - SQL error codes for 'HSQL Database Engine' found
2019-11-26 21:44:18.997 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - Caching SQL error codes for DataSource [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy$$EnhancerBySpringCGLIB$$80b039ee@685dafd]: database product name is 'HSQL Database Engine'
2019-11-26 21:44:18.997 [main] DEBUG o.s.j.s.SQLErrorCodeSQLExceptionTranslator - Unable to translate SQLException with Error code '3401', will now try the fallback translator
2019-11-26 21:44:19.017 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:44:19.018 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:44:19.018 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:6e65c037-5593-4d66-a8c2-d0f4b880df50]
2019-11-26 21:44:19.024 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO person VALUES(?)]; data exception: string data, right truncation;  table: PERSON column: NAME; nested exception is java.sql.SQLDataException: data exception: string data, right truncation;  table: PERSON column: NAME, mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:44:19.031 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:44:19.033 [Thread-1] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@7674f035, started on Tue Nov 26 21:44:17 CST 2019
2019-11-26 21:44:19.035 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:6e65c037-5593-4d66-a8c2-d0f4b880df50'
2019-11-26 21:44:19.035 [Thread-1] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:6e65c037-5593-4d66-a8c2-d0f4b880df50]
2019-11-26 21:47:35.290 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:47:35.309 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 21:47:36.670 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:5192e986-8541-4a28-82fe-ca8c304021a9', username='sa'
2019-11-26 21:47:37.178 [main] INFO  s.t.TransactionTestService - Spring 事务注解
2019-11-26 21:47:37.323 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:5192e986-8541-4a28-82fe-ca8c304021a9'
2019-11-26 21:47:52.697 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:47:52.720 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 21:47:54.051 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:1ae37dfb-db40-4635-8240-22e421065d82', username='sa'
2019-11-26 21:47:54.578 [main] INFO  s.t.TransactionTestService - Spring 事务注解
2019-11-26 21:47:54.754 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:1ae37dfb-db40-4635-8240-22e421065d82'
2019-11-26 21:48:49.072 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:48:49.092 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 21:48:50.427 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:b7f59544-1640-4d37-9a24-7c19e2719626', username='sa'
2019-11-26 21:48:50.934 [main] INFO  s.t.TransactionTestService - Spring 事务注解
2019-11-26 21:48:51.091 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:b7f59544-1640-4d37-9a24-7c19e2719626'
2019-11-26 21:50:38.221 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:50:38.225 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:50:38.234 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:50:38.245 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:50:38.278 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@3541cb24 declaringClass = 'spring.BaseSpringTest', classes = '{class spring.SpringConfig}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:50:38.302 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:50:38.303 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:50:38.304 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:50:38.311 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:50:38.323 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@209da20d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e15b7e8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b2abca6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6392827e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed2d9cb]
2019-11-26 21:50:38.325 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:50:38.325 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:50:38.340 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:50:38.340 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:50:38.342 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:50:38.342 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:50:38.342 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:50:38.343 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:50:38.345 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:50:38.346 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:50:38.346 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:50:38.348 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:50:38.350 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:50:38.350 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:50:38.403 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:50:38.404 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.SpringConfig}
2019-11-26 21:50:38.474 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@7674f035
2019-11-26 21:50:38.497 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:50:38.644 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/NaiveWaiterService.class]
2019-11-26 21:50:38.648 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/PreGreetingAspect.class]
2019-11-26 21:50:38.649 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/SmartSeller.class]
2019-11-26 21:50:38.655 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springCache/UserService.class]
2019-11-26 21:50:38.661 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springRetry/RemoteService.class]
2019-11-26 21:50:38.662 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/PersonDatabaseTestsConfig.class]
2019-11-26 21:50:38.668 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/TransactionTestService.class]
2019-11-26 21:50:38.917 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:50:38.921 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:50:38.925 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:50:38.926 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:50:38.931 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2019-11-26 21:50:39.028 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springConfig'
2019-11-26 21:50:39.030 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.config.internalCacheAdvisor'
2019-11-26 21:50:39.032 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.annotation.ProxyCachingConfiguration'
2019-11-26 21:50:39.033 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.retry.annotation.RetryConfiguration'
2019-11-26 21:50:39.100 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest()
2019-11-26 21:50:39.103 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest2()
2019-11-26 21:50:39.103 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting(java.lang.String)
2019-11-26 21:50:39.113 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting2(spring.WaiterTest)
2019-11-26 21:50:39.114 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest()
2019-11-26 21:50:39.114 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest2()
2019-11-26 21:50:39.114 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.withinTest()
2019-11-26 21:50:39.478 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheOperationSource'
2019-11-26 21:50:39.538 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheInterceptor'
2019-11-26 21:50:39.598 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'naiveWaiterService'
2019-11-26 21:50:39.626 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preGreetingAspect'
2019-11-26 21:50:39.627 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'smartSeller'
2019-11-26 21:50:39.638 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2019-11-26 21:50:39.686 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'remoteService'
2019-11-26 21:50:39.706 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:50:39.720 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTestService'
2019-11-26 21:50:39.729 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:50:39.776 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:63583a9d-6825-458f-b817-d6275c683656', username='sa'
2019-11-26 21:50:39.783 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:50:39.784 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:63583a9d-6825-458f-b817-d6275c683656]
2019-11-26 21:50:40.213 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:50:40.217 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:50:40.217 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(5) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:50:40.217 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2019-11-26 21:50:40.257 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'compositeCacheManager'
2019-11-26 21:50:40.285 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:50:40.285 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@167279d1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:50:40.290 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:50:40.303 [main] INFO  s.t.TransactionTestService - Spring 事务注解
2019-11-26 21:50:40.305 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:50:40.306 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:50:40.307 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:50:40.316 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:63583a9d-6825-458f-b817-d6275c683656]
2019-11-26 21:50:40.324 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2019-11-26 21:50:40.324 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [INSERT INTO person VALUES(?)]
2019-11-26 21:50:40.324 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:50:40.325 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:63583a9d-6825-458f-b817-d6275c683656]
2019-11-26 21:50:40.399 [main] DEBUG o.s.b.f.xml.XmlBeanDefinitionReader - Loaded 11 bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-11-26 21:50:40.401 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'DB2'
2019-11-26 21:50:40.411 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Derby'
2019-11-26 21:50:40.411 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'H2'
2019-11-26 21:50:40.412 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HDB'
2019-11-26 21:50:40.413 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HSQL'
2019-11-26 21:50:40.414 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Informix'
2019-11-26 21:50:40.414 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MS-SQL'
2019-11-26 21:50:40.415 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MySQL'
2019-11-26 21:50:40.416 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Oracle'
2019-11-26 21:50:40.417 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'PostgreSQL'
2019-11-26 21:50:40.418 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Sybase'
2019-11-26 21:50:40.418 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - Looking up default SQLErrorCodes for DataSource [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy$$EnhancerBySpringCGLIB$$a2cf2685@685dafd]
2019-11-26 21:50:40.419 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:50:40.420 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:63583a9d-6825-458f-b817-d6275c683656]
2019-11-26 21:50:40.423 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - SQL error codes for 'HSQL Database Engine' found
2019-11-26 21:50:40.424 [main] DEBUG o.s.j.support.SQLErrorCodesFactory - Caching SQL error codes for DataSource [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy$$EnhancerBySpringCGLIB$$a2cf2685@685dafd]: database product name is 'HSQL Database Engine'
2019-11-26 21:50:40.424 [main] DEBUG o.s.j.s.SQLErrorCodeSQLExceptionTranslator - Unable to translate SQLException with Error code '3401', will now try the fallback translator
2019-11-26 21:50:40.448 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:50:40.449 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:50:40.450 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:63583a9d-6825-458f-b817-d6275c683656]
2019-11-26 21:50:40.458 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = org.junit.internal.runners.model.MultipleFailureException: There were 2 errors:
  org.springframework.dao.DataIntegrityViolationException(PreparedStatementCallback; SQL [INSERT INTO person VALUES(?)]; data exception: string data, right truncation;  table: PERSON column: NAME; nested exception is java.sql.SQLDataException: data exception: string data, right truncation;  table: PERSON column: NAME)
  java.lang.AssertionError(验证数量失败 expected:<0> but was:<1>), mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:50:40.467 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:50:40.469 [Thread-1] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@7674f035, started on Tue Nov 26 21:50:38 CST 2019
2019-11-26 21:50:40.471 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:63583a9d-6825-458f-b817-d6275c683656'
2019-11-26 21:50:40.471 [Thread-1] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:63583a9d-6825-458f-b817-d6275c683656]
2019-11-26 21:52:02.541 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:52:02.546 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:52:02.555 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:52:02.567 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:52:02.598 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@3541cb24 declaringClass = 'spring.BaseSpringTest', classes = '{class spring.SpringConfig}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:52:02.624 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:52:02.625 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:52:02.626 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:52:02.632 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:52:02.644 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@209da20d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e15b7e8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b2abca6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6392827e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed2d9cb]
2019-11-26 21:52:02.646 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:52:02.647 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:52:02.662 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:52:02.663 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:52:02.664 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:52:02.664 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:52:02.665 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:52:02.665 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:52:02.668 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:52:02.669 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:52:02.669 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:52:02.671 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:52:02.673 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:52:02.673 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:52:02.726 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:52:02.727 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.SpringConfig}
2019-11-26 21:52:02.809 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@7674f035
2019-11-26 21:52:02.832 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:52:02.975 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/NaiveWaiterService.class]
2019-11-26 21:52:02.978 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/PreGreetingAspect.class]
2019-11-26 21:52:02.979 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/SmartSeller.class]
2019-11-26 21:52:02.986 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springCache/UserService.class]
2019-11-26 21:52:02.992 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springRetry/RemoteService.class]
2019-11-26 21:52:02.993 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/PersonDatabaseTestsConfig.class]
2019-11-26 21:52:03.000 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/TransactionTestService.class]
2019-11-26 21:52:03.244 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:52:03.246 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:52:03.249 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:52:03.250 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:52:03.256 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2019-11-26 21:52:03.344 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springConfig'
2019-11-26 21:52:03.346 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.config.internalCacheAdvisor'
2019-11-26 21:52:03.348 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.annotation.ProxyCachingConfiguration'
2019-11-26 21:52:03.348 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.retry.annotation.RetryConfiguration'
2019-11-26 21:52:03.416 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest()
2019-11-26 21:52:03.418 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest2()
2019-11-26 21:52:03.418 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting(java.lang.String)
2019-11-26 21:52:03.427 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting2(spring.WaiterTest)
2019-11-26 21:52:03.427 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest()
2019-11-26 21:52:03.428 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest2()
2019-11-26 21:52:03.428 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.withinTest()
2019-11-26 21:52:03.763 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheOperationSource'
2019-11-26 21:52:03.814 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheInterceptor'
2019-11-26 21:52:03.868 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'naiveWaiterService'
2019-11-26 21:52:03.893 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preGreetingAspect'
2019-11-26 21:52:03.894 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'smartSeller'
2019-11-26 21:52:03.904 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2019-11-26 21:52:03.941 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'remoteService'
2019-11-26 21:52:03.960 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:52:03.972 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTestService'
2019-11-26 21:52:03.986 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:52:04.037 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:8e8abbb1-6d45-421c-9059-db8e91f6d85b', username='sa'
2019-11-26 21:52:04.045 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:52:04.045 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:8e8abbb1-6d45-421c-9059-db8e91f6d85b]
2019-11-26 21:52:04.452 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:52:04.456 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:52:04.456 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(5) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:52:04.457 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 5 ms.
2019-11-26 21:52:04.494 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'compositeCacheManager'
2019-11-26 21:52:04.528 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:52:04.528 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@3e6534e7 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:52:04.533 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:52:04.550 [main] INFO  s.t.TransactionTestService - Spring 事务注解
2019-11-26 21:52:04.579 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:52:04.580 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:52:04.592 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:8e8abbb1-6d45-421c-9059-db8e91f6d85b]
2019-11-26 21:52:04.601 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = java.lang.AssertionError, mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:52:04.608 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:52:04.610 [Thread-1] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@7674f035, started on Tue Nov 26 21:52:02 CST 2019
2019-11-26 21:52:04.612 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:8e8abbb1-6d45-421c-9059-db8e91f6d85b'
2019-11-26 21:52:04.612 [Thread-1] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:8e8abbb1-6d45-421c-9059-db8e91f6d85b]
2019-11-26 21:54:28.264 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 21:54:28.269 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 21:54:28.278 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 21:54:28.289 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 21:54:28.320 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@3541cb24 declaringClass = 'spring.BaseSpringTest', classes = '{class spring.SpringConfig}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 21:54:28.345 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 21:54:28.347 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 21:54:28.347 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 21:54:28.355 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 21:54:28.370 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@209da20d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e15b7e8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b2abca6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6392827e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed2d9cb]
2019-11-26 21:54:28.373 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:54:28.374 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:54:28.391 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:54:28.391 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:54:28.393 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:54:28.393 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:54:28.395 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:54:28.395 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:54:28.398 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:54:28.399 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 21:54:28.399 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 21:54:28.401 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 21:54:28.402 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 21:54:28.402 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 21:54:28.457 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 21:54:28.457 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.SpringConfig}
2019-11-26 21:54:28.521 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@7674f035
2019-11-26 21:54:28.549 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 21:54:28.683 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/NaiveWaiterService.class]
2019-11-26 21:54:28.687 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/PreGreetingAspect.class]
2019-11-26 21:54:28.687 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/SmartSeller.class]
2019-11-26 21:54:28.694 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springCache/UserService.class]
2019-11-26 21:54:28.700 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springRetry/RemoteService.class]
2019-11-26 21:54:28.701 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/PersonDatabaseTestsConfig.class]
2019-11-26 21:54:28.707 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/TransactionTestService.class]
2019-11-26 21:54:28.959 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 21:54:28.961 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 21:54:28.965 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 21:54:28.965 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 21:54:28.970 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2019-11-26 21:54:29.062 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springConfig'
2019-11-26 21:54:29.064 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.config.internalCacheAdvisor'
2019-11-26 21:54:29.068 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.annotation.ProxyCachingConfiguration'
2019-11-26 21:54:29.068 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.retry.annotation.RetryConfiguration'
2019-11-26 21:54:29.142 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest()
2019-11-26 21:54:29.145 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest2()
2019-11-26 21:54:29.145 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting(java.lang.String)
2019-11-26 21:54:29.156 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting2(spring.WaiterTest)
2019-11-26 21:54:29.156 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest()
2019-11-26 21:54:29.157 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest2()
2019-11-26 21:54:29.157 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.withinTest()
2019-11-26 21:54:29.515 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheOperationSource'
2019-11-26 21:54:29.558 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheInterceptor'
2019-11-26 21:54:29.603 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'naiveWaiterService'
2019-11-26 21:54:29.631 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preGreetingAspect'
2019-11-26 21:54:29.632 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'smartSeller'
2019-11-26 21:54:29.642 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2019-11-26 21:54:29.672 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'remoteService'
2019-11-26 21:54:29.690 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 21:54:29.701 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTestService'
2019-11-26 21:54:29.710 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 21:54:29.756 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:dcb4abc8-7a19-4a66-81b2-44d9830aeceb', username='sa'
2019-11-26 21:54:29.762 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:54:29.762 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:dcb4abc8-7a19-4a66-81b2-44d9830aeceb]
2019-11-26 21:54:30.155 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 21:54:30.158 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 21:54:30.159 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(5) NOT NULL, PRIMARY KEY(name) )
2019-11-26 21:54:30.159 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2019-11-26 21:54:30.190 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'compositeCacheManager'
2019-11-26 21:54:30.217 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 21:54:30.218 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@167279d1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 21:54:30.222 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:54:30.234 [main] INFO  s.t.TransactionTestService - Spring 事务注解
2019-11-26 21:54:30.257 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 21:54:30.258 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 21:54:30.265 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:dcb4abc8-7a19-4a66-81b2-44d9830aeceb]
2019-11-26 21:54:30.272 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = java.lang.IllegalArgumentException: 不在事务中, mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:54:30.280 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 21:54:30.282 [Thread-1] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@7674f035, started on Tue Nov 26 21:54:28 CST 2019
2019-11-26 21:54:30.284 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:dcb4abc8-7a19-4a66-81b2-44d9830aeceb'
2019-11-26 21:54:30.284 [Thread-1] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:dcb4abc8-7a19-4a66-81b2-44d9830aeceb]
2019-11-26 22:01:30.524 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 22:01:30.529 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 22:01:30.541 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 22:01:30.552 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 22:01:30.585 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@3541cb24 declaringClass = 'spring.BaseSpringTest', classes = '{class spring.SpringConfig}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 22:01:30.614 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 22:01:30.615 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 22:01:30.615 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:01:30.626 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 22:01:30.640 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@209da20d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e15b7e8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b2abca6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6392827e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed2d9cb]
2019-11-26 22:01:30.644 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:01:30.644 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:01:30.661 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:01:30.661 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:01:30.662 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:01:30.663 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:01:30.664 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:01:30.664 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:01:30.667 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:01:30.668 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:01:30.669 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:01:30.671 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 22:01:30.672 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 22:01:30.672 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 22:01:30.734 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 22:01:30.735 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.SpringConfig}
2019-11-26 22:01:30.849 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@7674f035
2019-11-26 22:01:30.881 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 22:01:31.030 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/NaiveWaiterService.class]
2019-11-26 22:01:31.034 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/PreGreetingAspect.class]
2019-11-26 22:01:31.035 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/SmartSeller.class]
2019-11-26 22:01:31.046 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springCache/UserService.class]
2019-11-26 22:01:31.053 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springRetry/RemoteService.class]
2019-11-26 22:01:31.055 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/PersonDatabaseTestsConfig.class]
2019-11-26 22:01:31.062 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/TransactionTestService.class]
2019-11-26 22:01:31.329 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 22:01:31.331 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 22:01:31.331 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2019-11-26 22:01:31.340 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 22:01:31.343 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 22:01:31.349 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2019-11-26 22:01:31.443 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springConfig'
2019-11-26 22:01:31.444 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.config.internalCacheAdvisor'
2019-11-26 22:01:31.445 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.annotation.ProxyCachingConfiguration'
2019-11-26 22:01:31.445 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.retry.annotation.RetryConfiguration'
2019-11-26 22:01:31.487 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2019-11-26 22:01:31.487 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'
2019-11-26 22:01:31.529 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest()
2019-11-26 22:01:31.532 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest2()
2019-11-26 22:01:31.532 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting(java.lang.String)
2019-11-26 22:01:31.546 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting2(spring.WaiterTest)
2019-11-26 22:01:31.547 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest()
2019-11-26 22:01:31.548 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest2()
2019-11-26 22:01:31.548 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.withinTest()
2019-11-26 22:01:31.943 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionAttributeSource'
2019-11-26 22:01:32.002 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionInterceptor'
2019-11-26 22:01:32.115 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheOperationSource'
2019-11-26 22:01:32.143 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheInterceptor'
2019-11-26 22:01:32.196 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'naiveWaiterService'
2019-11-26 22:01:32.231 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preGreetingAspect'
2019-11-26 22:01:32.232 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'smartSeller'
2019-11-26 22:01:32.243 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2019-11-26 22:01:32.275 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'remoteService'
2019-11-26 22:01:32.295 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 22:01:32.304 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTestService'
2019-11-26 22:01:32.314 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 22:01:32.350 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:738131d9-0ff6-4f68-9fb3-4eeb1c26d68a', username='sa'
2019-11-26 22:01:32.357 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 22:01:32.357 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:738131d9-0ff6-4f68-9fb3-4eeb1c26d68a]
2019-11-26 22:01:32.736 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 22:01:32.740 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 22:01:32.740 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(5) NOT NULL, PRIMARY KEY(name) )
2019-11-26 22:01:32.740 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2019-11-26 22:01:32.777 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'compositeCacheManager'
2019-11-26 22:01:32.803 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 22:01:32.803 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4ca8dbfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 22:01:32.807 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:01:32.844 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 22:01:32.845 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 22:01:32.852 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:738131d9-0ff6-4f68-9fb3-4eeb1c26d68a]
2019-11-26 22:01:32.859 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.transaction.PlatformTransactionManager' available, mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:01:32.867 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:01:32.869 [Thread-1] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@7674f035, started on Tue Nov 26 22:01:30 CST 2019
2019-11-26 22:01:32.871 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:738131d9-0ff6-4f68-9fb3-4eeb1c26d68a'
2019-11-26 22:01:32.871 [Thread-1] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:738131d9-0ff6-4f68-9fb3-4eeb1c26d68a]
2019-11-26 22:03:11.365 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 22:03:11.372 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 22:03:11.382 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 22:03:11.393 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 22:03:11.429 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@3541cb24 declaringClass = 'spring.BaseSpringTest', classes = '{class spring.SpringConfig}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 22:03:11.457 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 22:03:11.458 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 22:03:11.459 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:03:11.466 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 22:03:11.479 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@209da20d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e15b7e8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b2abca6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6392827e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed2d9cb]
2019-11-26 22:03:11.481 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:03:11.482 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:03:11.498 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:03:11.499 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:03:11.501 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:03:11.501 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:03:11.503 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:03:11.503 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:03:11.506 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:03:11.506 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:03:11.506 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:03:11.508 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 22:03:11.510 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 22:03:11.510 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 22:03:11.571 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 22:03:11.571 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.SpringConfig}
2019-11-26 22:03:11.658 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@7674f035
2019-11-26 22:03:11.678 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 22:03:11.828 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/NaiveWaiterService.class]
2019-11-26 22:03:11.832 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/PreGreetingAspect.class]
2019-11-26 22:03:11.833 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/SmartSeller.class]
2019-11-26 22:03:11.841 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springCache/UserService.class]
2019-11-26 22:03:11.846 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springRetry/RemoteService.class]
2019-11-26 22:03:11.847 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/PersonDatabaseTestsConfig.class]
2019-11-26 22:03:11.853 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/TransactionTestService.class]
2019-11-26 22:03:12.109 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 22:03:12.111 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 22:03:12.111 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2019-11-26 22:03:12.120 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 22:03:12.121 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 22:03:12.127 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2019-11-26 22:03:12.221 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springConfig'
2019-11-26 22:03:12.222 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.config.internalCacheAdvisor'
2019-11-26 22:03:12.223 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.annotation.ProxyCachingConfiguration'
2019-11-26 22:03:12.223 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.retry.annotation.RetryConfiguration'
2019-11-26 22:03:12.258 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2019-11-26 22:03:12.259 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'
2019-11-26 22:03:12.294 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest()
2019-11-26 22:03:12.297 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest2()
2019-11-26 22:03:12.298 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting(java.lang.String)
2019-11-26 22:03:12.310 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting2(spring.WaiterTest)
2019-11-26 22:03:12.311 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest()
2019-11-26 22:03:12.311 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest2()
2019-11-26 22:03:12.311 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.withinTest()
2019-11-26 22:03:12.709 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionAttributeSource'
2019-11-26 22:03:12.744 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionInterceptor'
2019-11-26 22:03:12.807 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheOperationSource'
2019-11-26 22:03:12.836 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheInterceptor'
2019-11-26 22:03:12.882 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'naiveWaiterService'
2019-11-26 22:03:12.906 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preGreetingAspect'
2019-11-26 22:03:12.907 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'smartSeller'
2019-11-26 22:03:12.917 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2019-11-26 22:03:12.948 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'remoteService'
2019-11-26 22:03:12.966 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 22:03:12.974 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTestService'
2019-11-26 22:03:12.984 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 22:03:13.028 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:81ea154a-3a32-4046-a573-c55da5666ef6', username='sa'
2019-11-26 22:03:13.035 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 22:03:13.035 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:81ea154a-3a32-4046-a573-c55da5666ef6]
2019-11-26 22:03:13.401 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 22:03:13.404 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 22:03:13.405 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(5) NOT NULL, PRIMARY KEY(name) )
2019-11-26 22:03:13.405 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2019-11-26 22:03:13.440 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 22:03:13.461 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final org.springframework.transaction.support.AbstractPlatformTransactionManager$SuspendedResourcesHolder org.springframework.transaction.support.AbstractPlatformTransactionManager.suspend(java.lang.Object) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.461 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.resume(java.lang.Object,org.springframework.transaction.support.AbstractPlatformTransactionManager$SuspendedResourcesHolder) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.461 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:03:13.461 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.462 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setNestedTransactionAllowed(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.462 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isNestedTransactionAllowed()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.462 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setTransactionSynchronizationName(java.lang.String)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.462 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setTransactionSynchronization(int)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.463 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final int org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransactionSynchronization()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.463 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setDefaultTimeout(int)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.463 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final int org.springframework.transaction.support.AbstractPlatformTransactionManager.getDefaultTimeout()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.464 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setValidateExistingTransaction(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.464 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isValidateExistingTransaction()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.464 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setGlobalRollbackOnParticipationFailure(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.464 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isGlobalRollbackOnParticipationFailure()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.464 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setFailEarlyOnGlobalRollbackOnly(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.465 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isFailEarlyOnGlobalRollbackOnly()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.465 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setRollbackOnCommitFailure(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.465 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isRollbackOnCommitFailure()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.465 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final org.springframework.transaction.support.DefaultTransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.prepareTransactionStatus(org.springframework.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.466 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:03:13.466 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.466 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:03:13.466 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.466 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(org.springframework.transaction.support.DefaultTransactionStatus)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.466 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCompletion(org.springframework.transaction.support.DefaultTransactionStatus)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.467 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.invokeAfterCompletion(java.util.List,int)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:03:13.477 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'compositeCacheManager'
2019-11-26 22:03:13.503 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 22:03:13.503 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@1816e24a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 22:03:13.507 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:03:13.552 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 22:03:13.553 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 22:03:13.562 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:81ea154a-3a32-4046-a573-c55da5666ef6]
2019-11-26 22:03:13.573 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:03:13.580 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:03:13.581 [Thread-1] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@7674f035, started on Tue Nov 26 22:03:11 CST 2019
2019-11-26 22:03:13.583 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:81ea154a-3a32-4046-a573-c55da5666ef6'
2019-11-26 22:03:13.584 [Thread-1] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:81ea154a-3a32-4046-a573-c55da5666ef6]
2019-11-26 22:04:51.290 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 22:04:51.295 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 22:04:51.305 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 22:04:51.318 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 22:04:51.359 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@3541cb24 declaringClass = 'spring.BaseSpringTest', classes = '{class spring.SpringConfig}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 22:04:51.389 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 22:04:51.391 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 22:04:51.392 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:04:51.400 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 22:04:51.416 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@209da20d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e15b7e8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b2abca6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6392827e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed2d9cb]
2019-11-26 22:04:51.419 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:04:51.423 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:04:51.444 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:04:51.447 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:04:51.448 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:04:51.449 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:04:51.450 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:04:51.450 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:04:51.453 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:04:51.454 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:04:51.454 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:04:51.457 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 22:04:51.458 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 22:04:51.459 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 22:04:51.519 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 22:04:51.519 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.SpringConfig}
2019-11-26 22:04:51.582 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@7674f035
2019-11-26 22:04:51.606 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 22:04:51.759 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/NaiveWaiterService.class]
2019-11-26 22:04:51.763 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/PreGreetingAspect.class]
2019-11-26 22:04:51.764 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/SmartSeller.class]
2019-11-26 22:04:51.771 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springCache/UserService.class]
2019-11-26 22:04:51.777 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springRetry/RemoteService.class]
2019-11-26 22:04:51.778 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/PersonDatabaseTestsConfig.class]
2019-11-26 22:04:51.783 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/TransactionTestService.class]
2019-11-26 22:04:52.020 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 22:04:52.022 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 22:04:52.025 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 22:04:52.026 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 22:04:52.031 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2019-11-26 22:04:52.112 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springConfig'
2019-11-26 22:04:52.114 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.config.internalCacheAdvisor'
2019-11-26 22:04:52.117 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.annotation.ProxyCachingConfiguration'
2019-11-26 22:04:52.117 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.retry.annotation.RetryConfiguration'
2019-11-26 22:04:52.197 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest()
2019-11-26 22:04:52.200 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest2()
2019-11-26 22:04:52.201 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting(java.lang.String)
2019-11-26 22:04:52.212 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting2(spring.WaiterTest)
2019-11-26 22:04:52.213 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest()
2019-11-26 22:04:52.213 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest2()
2019-11-26 22:04:52.213 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.withinTest()
2019-11-26 22:04:52.569 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheOperationSource'
2019-11-26 22:04:52.625 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheInterceptor'
2019-11-26 22:04:52.674 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'naiveWaiterService'
2019-11-26 22:04:52.696 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preGreetingAspect'
2019-11-26 22:04:52.697 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'smartSeller'
2019-11-26 22:04:52.706 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2019-11-26 22:04:52.738 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'remoteService'
2019-11-26 22:04:52.769 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 22:04:52.786 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTestService'
2019-11-26 22:04:52.796 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 22:04:52.841 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:7b8dc3de-dca8-4f82-bc97-1b84ef30f80f', username='sa'
2019-11-26 22:04:52.846 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 22:04:52.847 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:7b8dc3de-dca8-4f82-bc97-1b84ef30f80f]
2019-11-26 22:04:53.269 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 22:04:53.273 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 22:04:53.274 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(5) NOT NULL, PRIMARY KEY(name) )
2019-11-26 22:04:53.274 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 5 ms.
2019-11-26 22:04:53.314 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 22:04:53.339 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final org.springframework.transaction.support.AbstractPlatformTransactionManager$SuspendedResourcesHolder org.springframework.transaction.support.AbstractPlatformTransactionManager.suspend(java.lang.Object) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.339 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.resume(java.lang.Object,org.springframework.transaction.support.AbstractPlatformTransactionManager$SuspendedResourcesHolder) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.339 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:04:53.339 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.339 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setNestedTransactionAllowed(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.340 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isNestedTransactionAllowed()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.340 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:04:53.340 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.340 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:04:53.340 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.340 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(org.springframework.transaction.support.DefaultTransactionStatus)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.341 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCompletion(org.springframework.transaction.support.DefaultTransactionStatus)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.341 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.invokeAfterCompletion(java.util.List,int)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.341 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setTransactionSynchronizationName(java.lang.String)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.341 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setTransactionSynchronization(int)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.341 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final int org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransactionSynchronization()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.342 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setDefaultTimeout(int)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.342 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final int org.springframework.transaction.support.AbstractPlatformTransactionManager.getDefaultTimeout()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.342 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setValidateExistingTransaction(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.342 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isValidateExistingTransaction()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.343 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setGlobalRollbackOnParticipationFailure(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.343 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isGlobalRollbackOnParticipationFailure()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.343 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setFailEarlyOnGlobalRollbackOnly(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.343 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isFailEarlyOnGlobalRollbackOnly()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.344 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setRollbackOnCommitFailure(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.344 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isRollbackOnCommitFailure()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.344 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final org.springframework.transaction.support.DefaultTransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.prepareTransactionStatus(org.springframework.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:04:53.358 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'compositeCacheManager'
2019-11-26 22:04:53.387 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 22:04:53.388 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54d901aa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 22:04:53.393 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:04:53.404 [main] INFO  s.t.TransactionTestService - Spring 事务注解
2019-11-26 22:04:53.433 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 22:04:53.434 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 22:04:53.445 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:7b8dc3de-dca8-4f82-bc97-1b84ef30f80f]
2019-11-26 22:04:53.460 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = java.lang.IllegalArgumentException: 不在事务中, mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:04:53.468 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:04:53.470 [Thread-1] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@7674f035, started on Tue Nov 26 22:04:51 CST 2019
2019-11-26 22:04:53.473 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:7b8dc3de-dca8-4f82-bc97-1b84ef30f80f'
2019-11-26 22:04:53.473 [Thread-1] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:7b8dc3de-dca8-4f82-bc97-1b84ef30f80f]
2019-11-26 22:06:01.618 [main] DEBUG o.s.t.c.j.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class spring.TransactionTest]
2019-11-26 22:06:01.622 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2019-11-26 22:06:01.631 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2019-11-26 22:06:01.642 [main] DEBUG o.s.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [spring.TransactionTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2019-11-26 22:06:01.674 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@3541cb24 declaringClass = 'spring.BaseSpringTest', classes = '{class spring.SpringConfig}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2019-11-26 22:06:01.702 [main] DEBUG o.s.t.c.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [spring.TransactionTest]
2019-11-26 22:06:01.703 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [spring.TransactionTest]: using defaults.
2019-11-26 22:06:01.704 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:06:01.711 [main] DEBUG o.s.t.c.s.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2019-11-26 22:06:01.722 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@209da20d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e15b7e8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b2abca6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6392827e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed2d9cb]
2019-11-26 22:06:01.725 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:06:01.726 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:06:01.740 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:06:01.741 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:06:01.742 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:06:01.742 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:06:01.743 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:06:01.743 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:06:01.746 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:06:01.747 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [spring.TransactionTest]
2019-11-26 22:06:01.747 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [spring.TransactionTest]
2019-11-26 22:06:01.750 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2019-11-26 22:06:01.751 [main] DEBUG o.s.t.c.s.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2019-11-26 22:06:01.752 [main] DEBUG o.s.t.c.s.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2019-11-26 22:06:01.806 [main] DEBUG o.s.core.env.StandardEnvironment - Activating profiles []
2019-11-26 22:06:01.806 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoader - Registering annotated classes: {class spring.SpringConfig}
2019-11-26 22:06:01.878 [main] DEBUG o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@7674f035
2019-11-26 22:06:01.901 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2019-11-26 22:06:02.029 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/NaiveWaiterService.class]
2019-11-26 22:06:02.032 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/PreGreetingAspect.class]
2019-11-26 22:06:02.034 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/SmartSeller.class]
2019-11-26 22:06:02.046 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springCache/UserService.class]
2019-11-26 22:06:02.056 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/springRetry/RemoteService.class]
2019-11-26 22:06:02.056 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/PersonDatabaseTestsConfig.class]
2019-11-26 22:06:02.064 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Volumes/doc/javaprojects/javatest/target/classes/spring/transactionTest/TransactionTestService.class]
2019-11-26 22:06:02.318 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2019-11-26 22:06:02.321 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2019-11-26 22:06:02.321 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2019-11-26 22:06:02.329 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2019-11-26 22:06:02.330 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2019-11-26 22:06:02.334 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2019-11-26 22:06:02.415 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'springConfig'
2019-11-26 22:06:02.416 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.config.internalCacheAdvisor'
2019-11-26 22:06:02.417 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.cache.annotation.ProxyCachingConfiguration'
2019-11-26 22:06:02.417 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.retry.annotation.RetryConfiguration'
2019-11-26 22:06:02.452 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2019-11-26 22:06:02.452 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'
2019-11-26 22:06:02.484 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest()
2019-11-26 22:06:02.485 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.argsTest2()
2019-11-26 22:06:02.486 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting(java.lang.String)
2019-11-26 22:06:02.495 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.beforeGreeting2(spring.WaiterTest)
2019-11-26 22:06:02.496 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest()
2019-11-26 22:06:02.496 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.targetTest2()
2019-11-26 22:06:02.496 [main] DEBUG o.s.a.a.a.ReflectiveAspectJAdvisorFactory - Found AspectJ method: public void spring.PreGreetingAspect.withinTest()
2019-11-26 22:06:02.835 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionAttributeSource'
2019-11-26 22:06:02.874 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionInterceptor'
2019-11-26 22:06:02.945 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheOperationSource'
2019-11-26 22:06:02.975 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'cacheInterceptor'
2019-11-26 22:06:03.019 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'naiveWaiterService'
2019-11-26 22:06:03.043 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'preGreetingAspect'
2019-11-26 22:06:03.044 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'smartSeller'
2019-11-26 22:06:03.054 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userService'
2019-11-26 22:06:03.101 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'remoteService'
2019-11-26 22:06:03.123 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'personDatabaseTestsConfig'
2019-11-26 22:06:03.134 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionTestService'
2019-11-26 22:06:03.144 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2019-11-26 22:06:03.177 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:1f6ba90f-e2e9-47cc-b338-10850f5c6789', username='sa'
2019-11-26 22:06:03.183 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 22:06:03.184 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:1f6ba90f-e2e9-47cc-b338-10850f5c6789]
2019-11-26 22:06:03.591 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2019-11-26 22:06:03.595 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE person IF EXISTS
2019-11-26 22:06:03.595 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE person ( name VARCHAR(5) NOT NULL, PRIMARY KEY(name) )
2019-11-26 22:06:03.595 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2019-11-26 22:06:03.642 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'txManager'
2019-11-26 22:06:03.667 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final org.springframework.transaction.support.AbstractPlatformTransactionManager$SuspendedResourcesHolder org.springframework.transaction.support.AbstractPlatformTransactionManager.suspend(java.lang.Object) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.667 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.resume(java.lang.Object,org.springframework.transaction.support.AbstractPlatformTransactionManager$SuspendedResourcesHolder) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.667 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(org.springframework.transaction.support.DefaultTransactionStatus)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.667 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCompletion(org.springframework.transaction.support.DefaultTransactionStatus)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.668 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final void org.springframework.transaction.support.AbstractPlatformTransactionManager.invokeAfterCompletion(java.util.List,int)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.668 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:06:03.668 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.668 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:06:03.668 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.668 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:06:03.668 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.669 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setNestedTransactionAllowed(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.669 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isNestedTransactionAllowed()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.669 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setTransactionSynchronizationName(java.lang.String)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.669 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setTransactionSynchronization(int)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.670 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final int org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransactionSynchronization()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.670 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setDefaultTimeout(int)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.670 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final int org.springframework.transaction.support.AbstractPlatformTransactionManager.getDefaultTimeout()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.670 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setValidateExistingTransaction(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.671 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isValidateExistingTransaction()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.671 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setGlobalRollbackOnParticipationFailure(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.671 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isGlobalRollbackOnParticipationFailure()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.671 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setFailEarlyOnGlobalRollbackOnly(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.672 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isFailEarlyOnGlobalRollbackOnly()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.672 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.setRollbackOnCommitFailure(boolean)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.672 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [public final boolean org.springframework.transaction.support.AbstractPlatformTransactionManager.isRollbackOnCommitFailure()] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.672 [main] DEBUG o.s.aop.framework.CglibAopProxy - Final method [protected final org.springframework.transaction.support.DefaultTransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.prepareTransactionStatus(org.springframework.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)] cannot get proxied via CGLIB: Calls to this method will NOT be routed to the target instance and might lead to NPEs against uninitialized fields in the proxy instance.
2019-11-26 22:06:03.687 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'compositeCacheManager'
2019-11-26 22:06:03.714 [main] DEBUG o.s.t.c.c.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2019-11-26 22:06:03.714 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@1816e24a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2019-11-26 22:06:03.718 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:06:03.757 [main] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [SELECT COUNT(0) FROM person]
2019-11-26 22:06:03.758 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2019-11-26 22:06:03.764 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:1f6ba90f-e2e9-47cc-b338-10850f5c6789]
2019-11-26 22:06:03.772 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = spring.TransactionTest@52719fb6, testMethod = test1@TransactionTest, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:06:03.779 [main] DEBUG o.s.t.c.s.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@4f80542f testClass = TransactionTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@60bd273d testClass = TransactionTest, locations = '{}', classes = '{class spring.SpringConfig}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2019-11-26 22:06:03.782 [Thread-1] DEBUG o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@7674f035, started on Tue Nov 26 22:06:01 CST 2019
2019-11-26 22:06:03.783 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:1f6ba90f-e2e9-47cc-b338-10850f5c6789'
2019-11-26 22:06:03.784 [Thread-1] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:hsqldb:mem:1f6ba90f-e2e9-47cc-b338-10850f5c6789]
2019-11-26 22:06:54.698 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:06:54.719 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 22:06:56.263 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:34aa133a-f6e5-45d7-941a-3ba68f2d9d6e', username='sa'
2019-11-26 22:06:56.809 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:06:56.809 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:06:56.810 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:06:56.933 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:34aa133a-f6e5-45d7-941a-3ba68f2d9d6e'
2019-11-26 22:09:52.481 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:09:52.500 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 22:09:53.830 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:13c0e18d-a988-4c3d-a913-263e74127d8d', username='sa'
2019-11-26 22:09:54.313 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:09:54.313 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:09:54.313 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:09:54.446 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:13c0e18d-a988-4c3d-a913-263e74127d8d'
2019-11-26 22:13:53.368 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:13:53.391 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 22:13:54.719 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:7fc30f0f-5437-4c32-bac6-18e796e44696', username='sa'
2019-11-26 22:13:55.169 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:13:55.169 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:13:55.169 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:13:55.295 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:7fc30f0f-5437-4c32-bac6-18e796e44696'
2019-11-26 22:14:22.625 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:14:22.644 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 22:14:23.963 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:f164691b-3dcd-4b38-b77b-a140e719e502', username='sa'
2019-11-26 22:14:24.477 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:14:24.477 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:14:24.477 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:14:24.616 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:f164691b-3dcd-4b38-b77b-a140e719e502'
2019-11-26 22:15:28.684 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:15:28.704 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 22:15:30.114 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:e794482b-14ec-466f-a078-05ec534bc5f1', username='sa'
2019-11-26 22:15:30.612 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:15:30.612 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:15:30.613 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:15:37.770 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:e794482b-14ec-466f-a078-05ec534bc5f1'
2019-11-26 22:17:51.166 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:17:52.196 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 22:18:43.517 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:6739112a-d9d8-4776-bf57-a5bbbbe4b3f2', username='sa'
2019-11-26 22:18:43.940 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:18:43.940 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:18:43.940 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:19:06.944 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:6739112a-d9d8-4776-bf57-a5bbbbe4b3f2'
2019-11-26 22:20:05.897 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:20:05.917 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 22:20:07.215 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:c699edc1-0116-499a-90f7-fdc6946de2a7', username='sa'
2019-11-26 22:20:07.721 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:20:07.722 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:20:07.722 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:20:07.861 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:c699edc1-0116-499a-90f7-fdc6946de2a7'
2019-11-26 22:20:54.379 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2019-11-26 22:20:54.398 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58695725, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@543588e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f5acb9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4fb3ee4e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d7148e2]
2019-11-26 22:20:55.524 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:hsqldb:mem:715b4175-e881-454b-ba09-d5dd71a0ed91', username='sa'
2019-11-26 22:20:56.025 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:20:56.026 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final org.springframework.transaction.TransactionStatus org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(org.springframework.transaction.TransactionDefinition) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:20:56.026 [main] INFO  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(org.springframework.transaction.TransactionStatus) throws org.springframework.transaction.TransactionException] because it is marked as final: Consider using interface-based JDK proxies instead!
2019-11-26 22:20:56.180 [Thread-1] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:hsqldb:mem:715b4175-e881-454b-ba09-d5dd71a0ed91'
